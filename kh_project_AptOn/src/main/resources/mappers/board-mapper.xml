<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="Board">
	<!-- property는 필드명, column은 DB컬럼명 private int boardNum; private String boardTitle; 
		private String boardWriter; private String boardContent; private String boardOriginalFileName; 
		private String boardRenameFileName; private Date date; private int level; 
		private int ref; private int replyRef; private int replySeq; private int 
		readCount; -->
	<resultMap id="resultBoard" type="Board">
		<id property="boardNum" column="BOARD_NUM" />
		<result property="boardTitle" column="BOARD_TITLE" />
		<result property="boardWriter" column="BOARD_WRITER" />
		<result property="boardContent" column="BOARD_CONTENT" />
		<result property="boardOriginalFileName"
			column="BOARD_ORIGINAL_FILENAME" />
		<result property="boardRenameFileName"
			column="BOARD_RENAME_FILENAME" />
		<result property="date" column="BOARD_DATE" />
		<result property="level" column="BOARD_LEVEL" />
		<result property="ref" column="BOARD_REF" />
		<result property="replyRef" column="BOARD_REPLY_REF" />
		<result property="replySeq" column="BOARD_REPLY_SEQ" />
		<result property="readCount" column="BOARD_READCOUNT" />
	</resultMap>

	<select id="getListCount" resultType="_int">
		select count(*) from board

	</select>

	<select id="searchBoardListRB" resultMap="resultBoard">
		<![CDATA[
		SELECT * FROM (SELECT ROWNUM RNUM, BOARD_NUM, BOARD_TITLE, BOARD_WRITER, BOARD_CONTENT, BOARD_ORIGINAL_FILENAME, BOARD_RENAME_FILENAME, BOARD_DATE, BOARD_LEVEL, BOARD_REF, BOARD_REPLY_REF, BOARD_REPLY_SEQ, BOARD_READCOUNT
		FROM (SELECT * FROM BOARD ORDER BY BOARD_REF DESC, BOARD_REPLY_REF DESC,
		BOARD_LEVEL, BOARD_REPLY_SEQ))
		ORDER BY BOARD_NUM desc
		]]>
	</select>


</mapper>
